<div class="container">
  <div class="row">
    <h2 class="title">Carritos</h2>
    <img
      class="add-btn"
      src="/assets/add.svg"
      alt="add"
      (click)="openNewCartDialog()"
    />
  </div>
  <div class="cart-section">
    <!-- <div class="row">
      <input class="custom-input" type="text" [formControl]="cartIdControl" placeholder="IngresÃ¡ un id de carrito">
      <div class="search-btn" (click)="searchBtnClicked()">
        <p>Buscar</p>
      </div>
    </div> -->
    <div class="cart-card" *ngIf="idToShow">
      <div class="row">
        <p class="id-title">ID del carrito: {{ idToShow }}  <span *ngIf="isNewCart" class="new-text">NUEVO ðŸ”¥</span></p>
        <button class="order-btn" (click)="createOrder()">Crear pedido</button>
      </div>

      <p class="products-in-cart-text">Productos en carrito</p>
      <div class="existing-products">
        <p *ngIf="productsInCart.length == 0">Carrito vacÃ­o</p>
        <div class="product-card" *ngFor="let product of productsInCart">
          <img [src]="product.foto" alt="foto" />
          <p class="product-name">{{ product.nombre }}</p>
          <div class="row">
            <p class="product-stock">Disponible: {{ product.stock }}</p>
            <p class="product-price">U$D {{ product.precio }}</p>
          </div>
          <div class="row" *ngIf="product.quantity">
            <p>x {{ product.quantity }}</p>
          </div>
          <div class="action-row">
            <div class="action-remove" (click)="removeProductFromCart(product)">
              <img class="action-btn" src="/assets/remove.svg" alt="edit" />
            </div>
          </div>
      </div>
    </div>

    <p class="products-not-in-cart-text">Â¿Desea agregar mÃ¡s productos al carrito?</p>
    <div class="existing-products">
      <p *ngIf="productsNotInCart.length == 0">Ya tenÃ©s todos los productos en carrito</p>
      <div class="product-card" *ngFor="let product of productsNotInCart; let i = index">
        <img [src]="product.foto" alt="foto" />
        <p class="product-name">{{ product.nombre }}</p>
        <div class="row">
          <p class="product-stock">Disponible: {{ product.stock }}</p>
          <p class="product-price">U$D {{ product.precio }}</p>
        </div>
        <div class="row">
          <span class="clickable" (click)="minusQuantity(product.id)">-</span>
          <span>{{ product.quantity }}</span>
          <span class="clickable" (click)="addQuantity(product.id)">+</span>
        </div>
        <img
          class="add-btn"
          src="/assets/add.svg"
          alt="add"
          (click)="addProductToCart(product)"
        />
    </div>
    </div>
  </div>
</div>
